<div class="consultations-list">
  
    <div class="consultation-container">  
      
      <div class="alinhar" *ngIf="appointmentsData$ | async as appointments; else noAppointments">
        
        <div *ngFor="let appointment of appointments">
          
          <ng-container *ngIf="appointment.status === 'SCHEDULED'">
            <div class="consultation-item">

              <div class="consultation-header">
                <p class="especialista">{{ appointment.specialty }}:</p>
                <p>Dr(a).{{ appointment.doctor }}</p>
              </div>

              <div class="consultation-body">
                <p><strong>Observação:</strong> {{ appointment.obs || 'Sem observação' }}</p>
              </div>

              <div class="consultation-footer">                
                
                <p><strong>Data:</strong> {{ appointment.date | date: 'dd/MM/yyyy' }}</p>
                <p><strong>Horário:</strong> {{ appointment.time }}h</p>

                <p><strong>Status:</strong> 
                  {{ appointment.status === 'SCHEDULED' ? 'Agendado' : appointment.status === 'DONE' ? 'Concluído' : appointment.status }}
               </p>
              </div>
            </div>
          </ng-container>
        </div>
      </div>

      <ng-template #noAppointments>
        <p>Não há consultas agendadas no momento.</p>
      </ng-template>
  
    </div>
  
</div>
